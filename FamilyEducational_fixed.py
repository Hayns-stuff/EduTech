# Form implementation generated from reading ui file 'C:\Users\Hzy\PycharmProjects\SHS_Enrollment_System\Coverted_UI_to_PY\FamilyEducational_fixed.ui'
#
# Created by: PyQt6 UI code generator 6.9.1
#
# WARNING: Any manual changes made to this file will be lost when pyuic6 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt6 import QtCore, QtGui, QtWidgets

from DocumentSubmission import Ui_docs
import mysql.connector


class Ui_Family(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(900, 756)
        MainWindow.setMinimumSize(QtCore.QSize(900, 756))
        MainWindow.setMaximumSize(QtCore.QSize(900, 756))
        self.centralwidget = QtWidgets.QWidget(parent=MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.label_family = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_family.setGeometry(QtCore.QRect(30, 90, 400, 30))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_family.setFont(font)
        self.label_family.setObjectName("label_family")
        self.label_father_name = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_father_name.setGeometry(QtCore.QRect(30, 130, 120, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_father_name.setFont(font)
        self.label_father_name.setObjectName("label_father_name")
        self.lineEdit_father_name = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_father_name.setGeometry(QtCore.QRect(160, 130, 200, 20))
        self.lineEdit_father_name.setObjectName("lineEdit_father_name")
        self.label_father_occ = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_father_occ.setGeometry(QtCore.QRect(380, 130, 100, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_father_occ.setFont(font)
        self.label_father_occ.setObjectName("label_father_occ")
        self.lineEdit_father_occ = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_father_occ.setGeometry(QtCore.QRect(480, 130, 150, 20))
        self.lineEdit_father_occ.setObjectName("lineEdit_father_occ")
        self.label_father_contact = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_father_contact.setGeometry(QtCore.QRect(650, 130, 100, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_father_contact.setFont(font)
        self.label_father_contact.setObjectName("label_father_contact")
        self.lineEdit_father_contact = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_father_contact.setGeometry(QtCore.QRect(750, 130, 120, 20))
        self.lineEdit_father_contact.setObjectName("lineEdit_father_contact")
        self.label_mother_name = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_mother_name.setGeometry(QtCore.QRect(30, 170, 150, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_mother_name.setFont(font)
        self.label_mother_name.setObjectName("label_mother_name")
        self.lineEdit_mother_name = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_mother_name.setGeometry(QtCore.QRect(180, 170, 200, 20))
        self.lineEdit_mother_name.setObjectName("lineEdit_mother_name")
        self.label_mother_occ = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_mother_occ.setGeometry(QtCore.QRect(400, 170, 100, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_mother_occ.setFont(font)
        self.label_mother_occ.setObjectName("label_mother_occ")
        self.lineEdit_mother_occ = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_mother_occ.setGeometry(QtCore.QRect(500, 170, 150, 20))
        self.lineEdit_mother_occ.setObjectName("lineEdit_mother_occ")
        self.label_mother_contact = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_mother_contact.setGeometry(QtCore.QRect(660, 170, 100, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_mother_contact.setFont(font)
        self.label_mother_contact.setObjectName("label_mother_contact")
        self.lineEdit_mother_contact = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_mother_contact.setGeometry(QtCore.QRect(760, 170, 120, 20))
        self.lineEdit_mother_contact.setObjectName("lineEdit_mother_contact")
        self.label_guardian_name = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_guardian_name.setGeometry(QtCore.QRect(30, 210, 150, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_guardian_name.setFont(font)
        self.label_guardian_name.setObjectName("label_guardian_name")
        self.lineEdit_guardian_name = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_guardian_name.setGeometry(QtCore.QRect(180, 210, 200, 20))
        self.lineEdit_guardian_name.setObjectName("lineEdit_guardian_name")
        self.label_guardian_rel = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_guardian_rel.setGeometry(QtCore.QRect(400, 210, 100, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_guardian_rel.setFont(font)
        self.label_guardian_rel.setObjectName("label_guardian_rel")
        self.lineEdit_guardian_rel = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_guardian_rel.setGeometry(QtCore.QRect(500, 210, 150, 20))
        self.lineEdit_guardian_rel.setObjectName("lineEdit_guardian_rel")
        self.label_guardian_contact = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_guardian_contact.setGeometry(QtCore.QRect(660, 210, 100, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_guardian_contact.setFont(font)
        self.label_guardian_contact.setObjectName("label_guardian_contact")
        self.lineEdit_guardian_contact = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_guardian_contact.setGeometry(QtCore.QRect(760, 210, 120, 20))
        self.lineEdit_guardian_contact.setObjectName("lineEdit_guardian_contact")
        self.label_educ = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_educ.setGeometry(QtCore.QRect(30, 270, 400, 30))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_educ.setFont(font)
        self.label_educ.setObjectName("label_educ")
        self.label_last_school = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_last_school.setGeometry(QtCore.QRect(30, 310, 200, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_last_school.setFont(font)
        self.label_last_school.setObjectName("label_last_school")
        self.lineEdit_last_school = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_last_school.setGeometry(QtCore.QRect(250, 310, 300, 20))
        self.lineEdit_last_school.setObjectName("lineEdit_last_school")
        self.label_school_address = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_school_address.setGeometry(QtCore.QRect(30, 350, 200, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_school_address.setFont(font)
        self.label_school_address.setObjectName("label_school_address")
        self.textEdit_school_address = QtWidgets.QTextEdit(parent=self.centralwidget)
        self.textEdit_school_address.setGeometry(QtCore.QRect(250, 350, 300, 50))
        self.textEdit_school_address.setObjectName("textEdit_school_address")
        self.label_school_type = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_school_type.setGeometry(QtCore.QRect(30, 420, 200, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_school_type.setFont(font)
        self.label_school_type.setObjectName("label_school_type")
        self.comboBox_school_type = QtWidgets.QComboBox(parent=self.centralwidget)
        self.comboBox_school_type.setGeometry(QtCore.QRect(250, 420, 150, 22))
        self.comboBox_school_type.setObjectName("comboBox_school_type")
        self.comboBox_school_type.addItem("")
        self.comboBox_school_type.addItem("")
        self.label_citizenship = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_citizenship.setGeometry(QtCore.QRect(30, 460, 200, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_citizenship.setFont(font)
        self.label_citizenship.setObjectName("label_citizenship")
        self.lineEdit_citizenship = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_citizenship.setGeometry(QtCore.QRect(250, 460, 200, 20))
        self.lineEdit_citizenship.setObjectName("lineEdit_citizenship")
        self.label_religion = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_religion.setGeometry(QtCore.QRect(30, 500, 200, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_religion.setFont(font)
        self.label_religion.setObjectName("label_religion")
        self.lineEdit_religion = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_religion.setGeometry(QtCore.QRect(250, 500, 200, 20))
        self.lineEdit_religion.setObjectName("lineEdit_religion")
        self.label_civil_status = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_civil_status.setGeometry(QtCore.QRect(30, 540, 200, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_civil_status.setFont(font)
        self.label_civil_status.setObjectName("label_civil_status")
        self.comboBox_civil_status = QtWidgets.QComboBox(parent=self.centralwidget)
        self.comboBox_civil_status.setGeometry(QtCore.QRect(250, 540, 150, 22))
        self.comboBox_civil_status.setObjectName("comboBox_civil_status")
        self.comboBox_civil_status.addItem("")
        self.comboBox_civil_status.addItem("")
        self.comboBox_civil_status.addItem("")
        self.label_mother_tongue = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_mother_tongue.setGeometry(QtCore.QRect(30, 580, 200, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_mother_tongue.setFont(font)
        self.label_mother_tongue.setObjectName("label_mother_tongue")
        self.lineEdit_mother_tongue = QtWidgets.QLineEdit(parent=self.centralwidget)
        self.lineEdit_mother_tongue.setGeometry(QtCore.QRect(250, 580, 200, 20))
        self.lineEdit_mother_tongue.setObjectName("lineEdit_mother_tongue")
        self.label_special_needs = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_special_needs.setGeometry(QtCore.QRect(500, 580, 200, 20))
        font = QtGui.QFont()
        font.setFamily("Eras Demi ITC")
        self.label_special_needs.setFont(font)
        self.label_special_needs.setObjectName("label_special_needs")
        self.comboBox_special_needs = QtWidgets.QComboBox(parent=self.centralwidget)
        self.comboBox_special_needs.setGeometry(QtCore.QRect(700, 580, 100, 22))
        self.comboBox_special_needs.setObjectName("comboBox_special_needs")
        self.comboBox_special_needs.addItem("")
        self.comboBox_special_needs.addItem("")
        self.label = QtWidgets.QLabel(parent=self.centralwidget)
        self.label.setGeometry(QtCore.QRect(0, 0, 911, 71))
        self.label.setText("")
        self.label.setPixmap(QtGui.QPixmap("C:\\Users\\Hzy\\PycharmProjects\\SHS_Enrollment_System\\Coverted_UI_to_PY\\../boarder.png"))
        self.label.setObjectName("label")
        self.label_2 = QtWidgets.QLabel(parent=self.centralwidget)
        self.label_2.setGeometry(QtCore.QRect(0, 690, 911, 71))
        self.label_2.setText("")
        self.label_2.setPixmap(QtGui.QPixmap("C:\\Users\\Hzy\\PycharmProjects\\SHS_Enrollment_System\\Coverted_UI_to_PY\\../boarder.png"))
        self.label_2.setObjectName("label_2")
        self.pushButton = QtWidgets.QPushButton(parent=self.centralwidget)
        self.pushButton.setGeometry(QtCore.QRect(390, 630, 131, 41))
        font = QtGui.QFont()
        font.setStyleStrategy(QtGui.QFont.StyleStrategy.PreferAntialias)
        self.pushButton.setFont(font)
        self.pushButton.setObjectName("pushButton")
        MainWindow.setCentralWidget(self.centralwidget)
        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)
        self.pushButton.clicked.connect(self.open_third_window) # DIRI MAG CONNETT REMEMBER PLSSSSSS
        # new method to connect save

    def connect_save(self, student_data):
        print("[DEBUG] connect_save received student_data:", student_data)
        self.student_data = student_data
        try:
            self.pushButton.clicked.disconnect()
        except Exception:
            pass
        self.pushButton.clicked.connect(self.save_family_info)

    def save_family_info(self):
        print("[DEBUG] save_family_info called")
        family_info = {
            "father_name": self.lineEdit_father_name.text().strip(),
            "father_occupation": self.lineEdit_father_occ.text().strip(),
            "father_contact": self.lineEdit_father_contact.text().strip(),
            "mother_name": self.lineEdit_mother_name.text().strip(),
            "mother_occupation": self.lineEdit_mother_occ.text().strip(),
            "mother_contact": self.lineEdit_mother_contact.text().strip(),
            "guardian_name": self.lineEdit_guardian_name.text().strip(),
            "guardian_rel": self.lineEdit_guardian_rel.text().strip(),
            "guardian_contact": self.lineEdit_guardian_contact.text().strip(),
            "last_school": self.lineEdit_last_school.text().strip(),
            "school_address": self.textEdit_school_address.toPlainText().strip(),
            "school_type": self.comboBox_school_type.currentText(),
            "citizenship": self.lineEdit_citizenship.text().strip(),
            "religion": self.lineEdit_religion.text().strip(),
            "civil_status": self.comboBox_civil_status.currentText(),
            "mother_tongue": self.lineEdit_mother_tongue.text().strip(),
            "special_needs": self.comboBox_special_needs.currentText()
        }
        print("[DEBUG] Family info collected:", family_info)
        self.student_data.update(family_info)
        print("[DEBUG] Updated student_data:", self.student_data)

        # Show DocumentSubmission window with complete student data (single instance)
        from DocumentSubmission import DocumentSubmissionWindow
        self.document_window = DocumentSubmissionWindow(self.student_data)
        self.document_window.show()

    def open_third_window(self):
        self.third = QtWidgets.QMainWindow()
        self.ui2 = Ui_docs()
        self.ui2.setupUi(self.third)
        self.third.show()

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "Family & Educational Background"))
        self.label_family.setText(_translate("MainWindow", "Family / Guardian Information"))
        self.label_father_name.setText(_translate("MainWindow", "Father\'s Name"))
        self.label_father_occ.setText(_translate("MainWindow", "Occupation"))
        self.label_father_contact.setText(_translate("MainWindow", "Contact No."))
        self.label_mother_name.setText(_translate("MainWindow", "Mother\'s Maiden Name"))
        self.label_mother_occ.setText(_translate("MainWindow", "Occupation"))
        self.label_mother_contact.setText(_translate("MainWindow", "Contact No."))
        self.label_guardian_name.setText(_translate("MainWindow", "Guardian\'s Name"))
        self.label_guardian_rel.setText(_translate("MainWindow", "Relationship"))
        self.label_guardian_contact.setText(_translate("MainWindow", "Contact No."))
        self.label_educ.setText(_translate("MainWindow", "Educational Background"))
        self.label_last_school.setText(_translate("MainWindow", "Last School Attended"))
        self.label_school_address.setText(_translate("MainWindow", "School Address"))
        self.label_school_type.setText(_translate("MainWindow", "School Type"))
        self.comboBox_school_type.setItemText(0, _translate("MainWindow", "Public"))
        self.comboBox_school_type.setItemText(1, _translate("MainWindow", "Private"))
        self.label_citizenship.setText(_translate("MainWindow", "Citizenship / Nationality"))
        self.label_religion.setText(_translate("MainWindow", "Religion"))
        self.label_civil_status.setText(_translate("MainWindow", "Civil Status"))
        self.comboBox_civil_status.setItemText(0, _translate("MainWindow", "Single"))
        self.comboBox_civil_status.setItemText(1, _translate("MainWindow", "Married"))
        self.comboBox_civil_status.setItemText(2, _translate("MainWindow", "Other"))
        self.label_mother_tongue.setText(_translate("MainWindow", "Mother Tongue / Language"))
        self.label_special_needs.setText(_translate("MainWindow", "With Special Needs?"))
        self.comboBox_special_needs.setItemText(0, _translate("MainWindow", "Yes"))
        self.comboBox_special_needs.setItemText(1, _translate("MainWindow", "No"))
        self.pushButton.setText(_translate("MainWindow", "Submit"))

    def go_to_family(self):
        self.student_data["last_name"] = self.ui.inputLastName.text().strip()
        self.student_data["first_name"] = self.ui.inputFirstName.text().strip()
        self.student_data["middle_name"] = self.ui.inputMiddleName.text().strip()
        self.student_data["birth_date"] = self.ui.InputBirthDay.date().toString("yyyy-MM-dd")
        self.student_data["sex"] = self.ui.inputSex.currentText()
        self.student_data["lrn"] = self.ui.inputFirstName_2.text().strip()
        self.student_data["place_of_birth"] = self.ui.InputPlaceOfBirth.text().strip()
        self.student_data["contact"] = self.ui.InputContact.text().strip()
        self.student_data["status"] = self.ui.inputSex_2.currentText()
        self.student_data["incoming_level"] = self.ui.inputSex_3.currentText()
        self.student_data["strand"] = self.ui.inputSex_4.currentText()
        self.student_data["email"] = self.ui.InputContact_2.text().strip()
        self.student_data["address"] = self.ui.inputFirstName_3.text().strip()

        self.family_window = QtWidgets.QMainWindow()
        from FamilyEducational_fixed import Ui_Family
        self.family_ui = Ui_Family()
        self.family_ui.setupUi(self.family_window)
        self.family_ui.connect_save(self.student_data)  # connect save button
        self.family_window.show()





if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_Family()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec())
